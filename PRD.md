# 产品需求文档：图片水印工具 2.0

## 1. 引言

本文档旨在详细说明“图片水印工具 2.0”桌面应用（Windows平台）的产品需求。

## 2. 核心功能

### 2.1. 文件处理

*   **图片导入**
    *   支持通过拖拽或文件选择器单张导入图片。
    *   支持批量导入多张图片或整个文件夹。
    *   在界面上以缩略图和文件名列表形式显示已导入的图片。
*   **格式支持**
    *   **输入格式**：支持 JPEG、PNG、BMP、TIFF格式。PNG 格式必须支持透明通道。
    *   **输出格式**：用户可选择导出为 JPEG 或 PNG。
*   **图片导出**
    *   用户必须指定一个输出文件夹。
    *   为防止覆盖原图，默认禁止导出到原始文件夹。
    *   提供文件命名规则选项：
        *   保留原文件名。
        *   添加自定义前缀（如 `wm_`）。
        *   添加自定义后缀（如 `_watermarked`）。

### 2.2. 水印类型

*   **文本水印**
    *   **内容**：用户可自定义输入任意文本。
    *   **透明度**：可调节文本的透明度（0-100%）。

### 2.3. 水印布局与样式

*   **实时预览**：所有对水印的调整（如内容、位置、透明度等）都应在主预览窗口中实时显示效果。用户可以通过点击图片列表切换预览不同的图片。
*   **位置**
    *   **预设位置**：提供九宫格布局（四角、四边中点、正中心），方便用户一键放置水印。
    *   **手动拖拽**：允许用户在预览图上通过鼠标拖拽水印到任意位置。

### 2.4. 配置管理

*   **水印模板**
    *   用户可将当前的水印设置（包括内容、位置、透明度等所有参数）保存为模板。
    *   用户可以加载、管理和删除已保存的模板。
    *   程序启动时可自动加载上一次关闭时的设置或一个默认模板。

## 3. 非功能性需求

*   **平台**：应用必须为 Windows 原生桌面应用。
*   **易用性**：用户界面应设计得直观、简洁，方便非技术用户快速上手。

## 4. 未来（可选）功能规划

以下功能为未来版本考虑，不包含在本次开发范围内：

*   **高级导出选项**：
    *   JPEG 图片质量（压缩率）调节滑块。
    *   导出时调整图片尺寸（按宽度、高度或百分比缩放）。
*   **高级文本水印选项**：
    *   字体选择（字体族、字号、粗体、斜体）。
    *   颜色选择器。
    *   添加阴影或描边效果。
*   **图片水印**：
    *   支持选择本地图片作为水印。
    *   支持带透明通道的 PNG 图片。
    *   图片水印的缩放选项。
    *   图片水印的透明度调节。
*   **水印旋转**：允许以任意角度旋转水印。